# MT-110: Production Build & Deployment

## Description

Configure production build and deployment process with documentation.

## Acceptance Criteria

- [ ] Production build script bundles client and server
- [ ] Express serves Vite build output in production
- [ ] Environment variables handled (PORT, NODE_ENV)
- [ ] README with setup and run instructions
- [ ] `.gitignore` configured properly
- [ ] `npm run build` creates production bundle
- [ ] `npm start` runs production server
- [ ] Single port serves both API and frontend
- [ ] Works when cloned to fresh machine

## Technical Notes

### Build Process

1. Vite builds React to `dist/client/`
2. TypeScript compiles server to `dist/server/`
3. Production server serves `dist/client/` as static files

### Production Server Setup

```typescript
// src/server/index.ts
if (process.env.NODE_ENV === 'production') {
  app.use(express.static(path.join(__dirname, '../client')));
  app.get('*', (req, res) => {
    if (!req.path.startsWith('/api')) {
      res.sendFile(path.join(__dirname, '../client/index.html'));
    }
  });
}
```

### Environment Variables

```bash
PORT=3001          # Server port (default: 3001)
NODE_ENV=production # Enable production mode
```

### Package.json Scripts

```json
{
  "build": "vite build && tsc -p tsconfig.server.json",
  "start": "NODE_ENV=production node dist/server/index.js"
}
```

### .gitignore

```
node_modules/
dist/
uploads/
.env
*.log
```

### README Content

1. Quick Start
2. Development Setup
3. Production Deployment
4. API Documentation
5. Configuration Options

## Files to Create

- `README.md` - Project documentation

## Files to Modify

- `package.json` - Add build/start scripts
- `.gitignore` - Ensure proper ignores
- `src/server/index.ts` - Add static file serving
- `vite.config.ts` - Configure output directory

## Dependencies

- Depends on: MT-109 (Main App Layout) - everything else done first
